import {
  TableComposable,
  Tbody,
  Td,
  Th,
  Thead,
  Tr,
} from '@patternfly/react-table';
import React from 'react';

export type CVETableRow = any[];

const TableHeader = ({ columns }: { columns: string[] }) => (
  <Thead>
    <Tr>
      {columns.map((column) => (
        <Th key={column}>{column}</Th>
      ))}
    </Tr>
  </Thead>
);

const TableBody = ({ rows }: { rows: CVETableRow[] }) => (
  <Tbody>
    {rows.map((row, index) => (
      <Tr key={index}>
        {row.map((item, index) => (
          <Td key={index}>{item}</Td>
        ))}
      </Tr>
    ))}
  </Tbody>
);

const CVETable = ({
  rows,
  columnsToInclude,
}: {
  rows: CVETableRow[];
  columnsToInclude: string[];
}) => {
  return (
    <TableComposable variant="compact" isStriped>
      <TableHeader columns={columnsToInclude} />
      <TableBody rows={rows} />
    </TableComposable>
  );
};

export default CVETable;
