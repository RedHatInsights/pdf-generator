import {
  TableComposable,
  Tbody,
  Td,
  Th,
  Thead,
  Tr,
} from '@patternfly/react-table';
import React from 'react';

export type CVETableRow = [
  React.ReactNode,
  string,
  string,
  string,
  number,
  string,
  string
];

const columns = [
  'CVE ID',
  'Publish date',
  'CVSS base score',
  'Severity',
  'Systems',
  'Business risk',
  'Status',
];

const TableHeader = ({ columns }: { columns: string[] }) => (
  <Thead>
    <Tr>
      {columns.map((column) => (
        <Th key={column}>{column}</Th>
      ))}
    </Tr>
  </Thead>
);

const TableBody = ({ rows }: { rows: CVETableRow[] }) => (
  <Tbody>
    {rows.map((row, index) => (
      <Tr key={index}>
        {row.map((item, index) => (
          <Td key={index}>{item}</Td>
        ))}
      </Tr>
    ))}
  </Tbody>
);

const CVETable = ({ rows }: { rows: CVETableRow[] }) => {
  return (
    <TableComposable variant="compact" isStriped>
      <TableHeader columns={columns} />
      <TableBody rows={rows} />
    </TableComposable>
  );
};

export default CVETable;
